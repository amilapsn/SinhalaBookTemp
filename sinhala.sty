\ProvidesFile{sinhala.sty}
\ProvidesPackage{sinhala}

% mathematics and figures
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}

% plot
\usepackage{pgfplots}
\usepackage{array}

% fonts
\usepackage[no-math]{fontspec}
\usepackage[Sinhala,Latin]{ucharclasses}

% Download these and put in the hierarchy
% 

\setmainfont{NotoSerifSinhala}[
  Path=fonts/NotoSerifSinhala/,
  UprightFont={NotoSerifSinhala-Regular},
  ItalicFont={NotoSerifSinhala-Regular},
  % ItalicFont=*,
  ItalicFeatures=FakeSlant,
	BoldFont={NotoSerifSinhala-Bold},
  NFSSFamily=sinhalaserif,
]
\setsansfont{NotoSansSinhala}[
  Path=fonts/NotoSansSinhala/,
  UprightFont={NotoSansSinhala-Regular},
  ItalicFont={NotoSansSinhala-Regular},
  % ItalicFont=*,
  ItalicFeatures=FakeSlant,
	BoldFont={NotoSansSinhala-Bold},
  NFSSFamily=sinhalasans,
]

\newfontfamily\latinserif{NotoSerif}[
  Path=fonts/NotoSerif/,
  UprightFont={NotoSerif-Regular},
  ItalicFont={NotoSerif-Italic},
  BoldFont={NotoSerif-Bold},
  BoldItalicFont={NotoSerif-BoldItalic},
  NFSSFamily=latinserif
]
\newfontfamily\latinsans{NotoSans}[
  Path=fonts/NotoSans/,
  UprightFont={NotoSans-Regular},
  ItalicFont={NotoSans-Italic},
  BoldFont={NotoSans-Bold},
  BoldItalicFont={NotoSans-BoldItalic},
  NFSSFamily=latinsans
]


% \setDefaultTransitions{\switchto{latin}}{}
% \setTransitionsForSinhala{\switchto{sinhala}}{}

\setDefaultTransitions{\switchto{sinhala}}{}
\setTransitionsForLatin{\switchto{latin}}{}

\ExplSyntaxOn
\NewDocumentCommand{\switchto}{m}
 {
  \str_case_e:vnF {f@family}
   {
    { latinsans } { \fontfamily{#1sans}\selectfont }
    { sinhalasans } { \fontfamily{#1sans}\selectfont }
   }
   { \fontfamily{#1serif}\selectfont }
 }
\cs_generate_variant:Nn \str_case_e:nnF { v }
\ExplSyntaxOff


\renewcommand\contentsname{පටුන}
\renewcommand\listfigurename{රූපාවලිය}
\renewcommand\listtablename{වගුවාවලිය}
\renewcommand\bibname{උපුටන}
\renewcommand\indexname{සූචිය}
\renewcommand\figurename{රූපය}
\renewcommand\tablename{වගුව}
\renewcommand\partname{කොටස}
\renewcommand\chaptername{පරිච්ඡේදය}
\renewcommand\appendixname{උපග්‍රන්ථය}
\def\today{\ifcase\month\or
  ජනවාරි\or පෙබරවාරි\or මාර්තු\or අප්‍රේල්\or මැයි\or ජූනි\or
  ජූලි\or අගෝස්තු\or සැප්තැම්බර්\or ඔක්තෝම්බර්\or නොවැම්බර්\or දෙසැම්බර්\fi
  \space\number\day, \number\year}

{\newtheorem{theorem}{ප්‍රමේය​ය}}
{\newtheorem{definition}{නිර්වචනය}}
{\newtheorem{example}{උදාහරණය}}
{\newtheorem{lemma}{උපසාධ්‍යය}}
{\newtheorem{exercise}{අභ්‍යාසය}}
{\newtheorem{proposition}{ප්‍රස්තුත​ය}}
{\newtheorem{remark}{සංලක්ෂ්‍ය​ය}}
{\newtheorem{assumption}{උපකල්පන​ය}}
{\newtheorem{corollary}{ඵලිත​ය}}

\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000


% for links
\usepackage{hyperref}

\hypersetup{linktoc=all,
            colorlinks=true}
