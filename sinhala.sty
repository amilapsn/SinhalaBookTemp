\ProvidesFile{sinhala.sty}
\ProvidesPackage{sinhala}

% mathematics and figures
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{capt-of}
% plot
\usepackage{pgfplots}
\usepackage{array}
\usepackage{fontspec}
\usepackage[Sinhala,Latin]{ucharclasses}

% Download these and put in hierarchy
\setmainfont{NotoSerif}[
  Path=fonts/NotoSerif/,
  UprightFont={NotoSerif-Regular},
  ItalicFont={NotoSerif-Italic},
  BoldFont={NotoSerif-Bold},
  BoldItalicFont={NotoSerif-BoldItalic},
  NFSSFamily=standardSerif
]
\setsansfont{NotoSans}[
  Path=fonts/NotoSans/,
  UprightFont={NotoSans-Regular},
  ItalicFont={NotoSans-Italic},
  BoldFont={NotoSans-Bold},
  BoldItalicFont={NotoSans-BoldItalic},
  NFSSFamily=standardsans
]

\newfontfamily\sinhalaserif{NotoSerifSinhala}[
  Path=fonts/NotoSerifSinhala/,
  UprightFont={NotoSerifSinhala-Regular},
  ItalicFont={NotoSerifSinhala-Regular},
	BoldFont={NotoSerifSinhala-Bold},
  NFSSFamily=sinhalaserif,
]
\newfontfamily\sinhalasans{NotoSansSinhala}[
  Path=fonts/NotoSansSinhala/,
  UprightFont={NotoSansSinhala-Regular},
  ItalicFont={NotoSansSinhala-Regular},
	BoldFont={NotoSansSinhala-Bold},
  NFSSFamily=sinhalasans,
]

\setDefaultTransitions{\switchto{standard}}{}
\setTransitionTo{Sinhala}{\switchto{sinhala}}

\ExplSyntaxOn
\NewDocumentCommand{\switchto}{m}
 {
  \str_case_e:vnF {f@family}
   {
    { standardsans } { \fontfamily{#1sans}\selectfont }
    { sinhalasans } { \fontfamily{#1sans}\selectfont }
   }
   { \fontfamily{#1serif}\selectfont }
 }
\cs_generate_variant:Nn \str_case_e:nnF { v }
\ExplSyntaxOff


\renewcommand\contentsname{පටුන}
\renewcommand\listfigurename{රූපාවලිය}
\renewcommand\listtablename{වගුවාවලිය}
\renewcommand\bibname{උපුටන}
\renewcommand\indexname{සූචිය}
\renewcommand\figurename{රූපය}
\renewcommand\tablename{වගුව}
\renewcommand\partname{කොටස}
\renewcommand\chaptername{පරිච්ඡේදය}
\renewcommand\appendixname{උපග්‍රන්ථය}
\def\today{\ifcase\month\or
  ජනවාරි\or පෙබරවාරි\or මාර්තු\or අප්‍රේල්\or මැයි\or ජූනි\or
  ජූලි\or අගෝස්තු\or සැප්තැම්බර්\or ඔක්තෝම්බර්\or නොවැම්බර්\or දෙසැම්බර්\fi
  \space\number\day, \number\year}

\tolerance=1
\emergencystretch=\maxdimen
\hyphenpenalty=10000
\hbadness=10000